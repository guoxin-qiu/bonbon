var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,d=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{_ as i}from"./index.36147ed9.js";import{_ as s}from"./index.a8d86bf2.js";import{_ as u}from"./index.a39b0902.js";import{_ as n}from"./index.4d216ae4.js";import{_ as m}from"./index.69084706.js";import{d as f,r as c,az as p,bj as h,aV as V,aW as _,aS as y,a as w,a_ as x,ay as b,aX as k,cf as U,a$ as g}from"./index.44eff430.js";import{a as v}from"./retail-master-data.service.de057498.js";import{g as j,a as q}from"./vxeTableHelper.6baae079.js";import"./master-data.service.95993c0c.js";const C=g(f({__name:"ProductMixView",setup(e){const f=c(),g=p((C=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&d(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&d(e,a,t[a]);return e})({},j("grid",v)),t(C,a({formConfig:{items:[{folding:!1,slots:{default:"search_year"}},{folding:!1,slots:{default:"search_quarter"}},{folding:!1,slots:{default:"search_productMixName"}},{folding:!1,slots:{default:"search_sku"}},{folding:!0,slots:{default:"search_status"}},{collapseNode:!0,itemRender:{},slots:{default:"search_operation"}}]},columns:[{field:"checkbox",type:"checkbox",width:50,align:"center",fixed:"left"},{field:"year",title:"年份",width:100},{field:"quarter",title:"季度",width:100},{field:"name",title:"产品组合",width:160},{field:"productName",title:"产品名称",width:100},{field:"skuCode",title:"SKU编码",width:100},{field:"skuName",title:"SKU名称",width:240},{field:"mainDataStatus",title:"主数据状态",width:150,titlePrefix:{content:"SKU的主数据状态"}},{field:"detailStatus",title:"状态",width:100},{field:"createdBy",title:"创建人",width:100},{field:"createdOn",title:"创建时间",width:100},{field:"modifiedBy",title:"修改人",width:100},{field:"modifiedOn",title:"修改时间",width:100},{title:"操作",align:"center",width:120,fixed:"right",slots:{default:"operations"}}]}))));var C;const S=p({showCreator:!1,formData:{name:"",year:"",quarter:"",sku:""},formRules:{name:[{required:!0}],year:[{required:!0}],quarter:[{required:!0}],sku:[{required:!0}]},formItems:[{field:"name",title:"产品组合",span:22,slots:{default:"productMixName"},titlePrefix:{content:"从字典表来"}},{field:"quarter",title:"季度",span:22,slots:{default:"quarter"}},{field:"sku",title:"SKU",span:22,slots:{default:"sku"}},{align:"center",span:24,itemRender:{},slots:{default:"form_buttons"}}]});return(e,t)=>{const a=m,l=n,r=u,o=s,d=i,c=h("vxe-button"),p=h("vxe-grid"),v=h("vxe-form"),j=h("vxe-modal"),C=h("page-container");return V(),_(C,null,{default:y((()=>[w(p,U({ref_key:"xGrid",ref:f},b(g)),{search_quarter:y((({data:e})=>[w(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t},null,8,["modelValue","onUpdate:modelValue"])])),search_year:y((({data:e})=>[w(l,{modelValue:e.year,"onUpdate:modelValue":t=>e.year=t},null,8,["modelValue","onUpdate:modelValue"])])),search_productMixName:y((({data:e})=>[w(r,{modelValue:e.productMixName,"onUpdate:modelValue":t=>e.productMixName=t},null,8,["modelValue","onUpdate:modelValue"])])),search_sku:y((({data:e})=>[w(o,{modelValue:e.sku,"onUpdate:modelValue":t=>e.sku=t},null,8,["modelValue","onUpdate:modelValue"])])),search_status:y((({data:e})=>[w(d,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,type:"发布状态"},null,8,["modelValue","onUpdate:modelValue"])])),search_operation:y((()=>[w(c,{status:"primary",type:"submit"},{default:y((()=>[x("搜索")])),_:1})])),toolbar_buttons:y((()=>[w(c,{status:"primary",onClick:t[0]||(t[0]=e=>{b(q)("同一个Q中，同一个产品可以出现在多个产品组合中，业务会在不同的返利类型中使用不同的组合方式;\n              作为一个生成器，实际存储不需要主从表，到SKU级别即可\n              新建时候，要判断，数据库中是否已存在\n              新建后都是草稿状态").then((()=>b(S).showCreator=!0))})},{default:y((()=>[x(" 新建 ")])),_:1}),w(c,{status:"primary",onClick:t[1]||(t[1]=e=>b(q)("数据团队用户\n        季度(Y)、产品组合(Y)、SKU编码(Y)\n        季度+产品组合唯一，产品组合在字典表中，SKU是有效的"))},{default:y((()=>[x(" 数据导入 ")])),_:1}),w(c,{status:"primary",content:"数据下载",onClick:t[2]||(t[2]=e=>b(q)("数据团队、零售KA团队、零售运营团队"))}),w(c,{status:"primary",content:"发布",onClick:t[3]||(t[3]=e=>b(q)("只有自己创建的草稿状态的数据才可以发布；仅数据团队操作。有勾选按勾选，不勾选按查询条件；后续所有类似按钮都同样逻辑"))}),w(c,{status:"danger",onClick:t[4]||(t[4]=e=>b(q)("只能删除自己创建的草稿状态数据，批量删除，勾选则删除勾选，不勾选按查询条件；所有发布、删除、生效、失效操作，都要有confirm提示框")),content:"删除"})])),operations:y((({row:e})=>["失效"===e.detailStatus?(V(),_(c,{key:0,status:"danger",onClick:t[5]||(t[5]=e=>b(q)("只有失效的才可以生效")),content:"生效"})):k("v-if",!0),"生效"===e.detailStatus?(V(),_(c,{key:1,status:"danger",onClick:t[6]||(t[6]=e=>b(q)("只有生效的才可以失效")),content:"失效"})):k("v-if",!0)])),_:1},16),w(j,{modelValue:b(S).showCreator,"onUpdate:modelValue":t[8]||(t[8]=e=>b(S).showCreator=e),title:"新建零售产品组合",width:"500",resize:"","destroy-on-close":""},{default:y((()=>[w(v,{data:b(S).formData,rules:b(S).formRules,items:b(S).formItems,"title-align":"right","title-width":"150"},{quarter:y((({data:e})=>[w(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t},null,8,["modelValue","onUpdate:modelValue"])])),sku:y((({data:e})=>[w(o,{modelValue:e.sku,"onUpdate:modelValue":t=>e.sku=t,multiple:""},null,8,["modelValue","onUpdate:modelValue"])])),productMixName:y((({data:e})=>[w(r,{modelValue:e.productMixName,"onUpdate:modelValue":t=>e.productMixName=t},null,8,["modelValue","onUpdate:modelValue"])])),form_buttons:y((()=>[w(c,{type:"submit",status:"primary"},{default:y((()=>[x("保存")])),_:1}),w(c,{onClick:t[7]||(t[7]=e=>b(S).showCreator=!1)},{default:y((()=>[x("取消")])),_:1})])),_:1},8,["data","rules","items"])])),_:1},8,["modelValue"])])),_:1})}}}),[["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/views/retail-master-data/ProductMixView.vue"]]);export{C as default};
