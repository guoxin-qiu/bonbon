var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,d=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l;import{_ as u}from"./index.36147ed9.js";import{_ as s}from"./index.127dc111.js";import{d as i,a9 as n,r as m,bj as c,aV as p,aW as f,ay as h,bR as V,a$ as b,b0 as _,az as C,aS as y,a as g,a_ as v,aX as w,cf as x,cq as q,cr as U,bk as k}from"./index.44eff430.js";import{_ as j}from"./index.9ab52a84.js";import{c as A,e as K}from"./retail-master-data.service.de057498.js";import{_ as P}from"./index.69084706.js";import{g as R,a as O}from"./vxeTableHelper.6baae079.js";import"./master-data.service.95993c0c.js";const B=b(i({__name:"index",props:{modelValue:{type:null,required:!1},placeholder:{type:String,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=e,l=n({get:()=>a.modelValue,set:e=>{t("update:modelValue",e)}}),r=m([]);return r.value=[{value:"RNKA",label:"RNKA"}],(e,o)=>{const d=c("vxe-select");return p(),f(d,{transfer:"",options:h(r),placeholder:a.placeholder||"零售大区",multiple:a.multiple,modelValue:h(l),"onUpdate:modelValue":o[0]||(o[0]=e=>V(l)?l.value=e:null),disabled:a.disabled,clearable:"",onChange:o[1]||(o[1]=e=>t("change"))},null,8,["options","placeholder","multiple","modelValue","disabled"])}}}),[["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/components/demo-retail-region/index.vue"]]),N=b(i({__name:"index",props:{modelValue:{type:null,required:!1},placeholder:{type:String,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(e,{emit:t}){const a=e,l=n({get:()=>a.modelValue,set:e=>{t("update:modelValue",e)}}),r=m([]);return _((()=>{return e=this,t=null,a=function*(){const e=yield A({size:1e3});r.value=e.data.list.map((e=>({value:e.code,label:`${e.name}(${e.code})`})))},new Promise(((l,r)=>{var o=e=>{try{u(a.next(e))}catch(t){r(t)}},d=e=>{try{u(a.throw(e))}catch(t){r(t)}},u=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,d);u((a=a.apply(e,t)).next())}));var e,t,a})),(e,o)=>{const d=c("vxe-select");return p(),f(d,{transfer:"",options:h(r),placeholder:a.placeholder||"零售KA辖区",multiple:a.multiple,modelValue:h(l),"onUpdate:modelValue":o[0]||(o[0]=e=>V(l)?l.value=e:null),disabled:a.disabled,clearable:"",filterable:"",max:"10",onChange:o[1]||(o[1]=e=>t("change"))},null,8,["options","placeholder","multiple","modelValue","disabled"])}}}),[["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/components/demo-ka-structure/index.vue"]]),I=(e=>(q("data-v-f5ed0169"),e=e(),U(),e))((()=>k("div",{style:{color:"red"}},"不需要编辑功能！！！",-1))),S=b(i({__name:"KACustomerRelView",setup(e){const i=m(),n=C((V=((e,t)=>{for(var a in t||(t={}))r.call(t,a)&&d(e,a,t[a]);if(l)for(var a of l(t))o.call(t,a)&&d(e,a,t[a]);return e})({},R("grid",K,{quarter:"2023Q1"})),t(V,a({formConfig:{items:[{field:"quarter",folding:!1,slots:{default:"search_quarter"},title:"注意",titlePrefix:{content:"必选项，默认当前Q"}},{folding:!1,slots:{default:"search_structure"}},{folding:!1,slots:{default:"search_retailCustomer"},title:"注意",titlePrefix:{content:"全部的分销商+药店"}},{folding:!0,slots:{default:"search_account"}},{folding:!0,slots:{default:"search_status"}},{collapseNode:!0,itemRender:{},slots:{default:"search_operation"}}]},columns:[{field:"checkbox",type:"checkbox",width:50,align:"center",fixed:"left"},{field:"quarter",title:"季度",width:100},{field:"region",title:"大区",width:100},{field:"structureCode",title:"KA辖区编码",width:150},{field:"structureName",title:"KA辖区名称",width:300},{field:"kaAccountCode",title:"员工编码",width:100},{field:"kaAccountName",title:"员工姓名",width:100},{field:"retailCustomerCode",title:"客户编码",width:150},{field:"retailCustomerName",title:"客户名称",width:300},{field:"status",title:"状态",width:100},{field:"createdBy",title:"创建人",width:100},{field:"createdOn",title:"创建时间",width:100},{field:"modifiedBy",title:"修改人",width:100},{field:"modifiedOn",title:"修改时间",width:100},{title:"操作",align:"center",width:180,fixed:"right",slots:{default:"operations"}}]}))));var V;const b=C({formData:{quarter:"2023Q1",structure:"",retailCustomer:""},formRules:{quarter:[{required:!0}],structure:[{required:!0}],retailCustomer:[{required:!0}]},formItems:[{field:"quarter",title:"季度",span:22,slots:{default:"quarter"}},{field:"structure",title:"KA辖区",span:22,slots:{default:"structure"}},{field:"retailCustomer",title:"客户",span:22,slots:{default:"retailCustomer"}},{align:"center",span:24,itemRender:{},slots:{default:"form_buttons"}}],showCreator:!1,showFileUpload:!1});return(e,t)=>{const a=P,l=N,r=j,o=B,d=s,m=u,V=c("vxe-button"),_=c("vxe-grid"),C=c("vxe-form"),q=c("vxe-modal"),U=c("page-container");return p(),f(U,null,{default:y((()=>[I,g(_,x({ref_key:"xGrid",ref:i},h(n)),{search_quarter:y((({data:e})=>[g(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t,disallowClear:""},null,8,["modelValue","onUpdate:modelValue"])])),search_structure:y((({data:e})=>[g(l,{modelValue:e.structure,"onUpdate:modelValue":t=>e.structure=t},null,8,["modelValue","onUpdate:modelValue"])])),search_retailCustomer:y((({data:e})=>[g(r,{modelValue:e.retailCustomer,"onUpdate:modelValue":t=>e.retailCustomer=t,placeholder:"客户"},null,8,["modelValue","onUpdate:modelValue"])])),search_retailRegion:y((({data:e})=>[g(o,{modelValue:e.retailRegion,"onUpdate:modelValue":t=>e.retailRegion=t},null,8,["modelValue","onUpdate:modelValue"])])),search_account:y((({data:e})=>[g(d,{modelValue:e.account,"onUpdate:modelValue":t=>e.account=t,placeholder:"KA负责人"},null,8,["modelValue","onUpdate:modelValue"])])),search_status:y((({data:e})=>[g(m,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,type:"发布状态"},null,8,["modelValue","onUpdate:modelValue"])])),search_operation:y((()=>[g(V,{status:"primary",type:"submit",onClick:t[0]||(t[0]=e=>h(O)("仅数据团队可见"))},{default:y((()=>[v(" 搜索 ")])),_:1})])),toolbar_buttons:y((()=>[g(V,{status:"primary",onClick:t[1]||(t[1]=e=>h(b).showCreator=!0)},{default:y((()=>[v("新建")])),_:1}),g(V,{status:"primary",onClick:t[2]||(t[2]=e=>h(O)("数据团队用户\n        季度(Y)、KA辖区编码(Y)、客户编码(Y)\n        其中客户编码是有效的分销商和药店\n        季度+KA辖区需要是有效的匹配关系\n        季度+KA辖区+客户唯一"))},{default:y((()=>[v(" 数据导入 ")])),_:1}),g(V,{status:"primary",onClick:t[3]||(t[3]=e=>h(O)("仅数据团队可见"))},{default:y((()=>[v("数据下载")])),_:1}),g(V,{status:"primary",content:"发布",onClick:t[4]||(t[4]=e=>h(O)("仅数据团队操作。有勾选按勾选，不勾选按查询条件；只有自己创建的草稿状态的数据才可以发布；后续所有类似按钮都同样逻辑"))}),g(V,{status:"danger",onClick:t[5]||(t[5]=e=>h(O)("只能删除自己创建的草稿状态数据，批量删除，勾选则删除勾选，不勾选按查询条件；所有发布、删除、生效、失效操作，都要有confirm提示框")),content:"删除"})])),operations:y((({row:e})=>["失效"===e.status?(p(),f(V,{key:0,status:"danger",onClick:t[6]||(t[6]=e=>h(O)("只有失效的才可以生效")),content:"生效"})):w("v-if",!0),"生效"===e.status?(p(),f(V,{key:1,status:"danger",onClick:t[7]||(t[7]=e=>h(O)("只有生效的才可以失效")),content:"失效"})):w("v-if",!0)])),_:1},16),g(q,{modelValue:h(b).showCreator,"onUpdate:modelValue":t[9]||(t[9]=e=>h(b).showCreator=e),title:"新建零售辖区客户",resize:"","destroy-on-close":""},{default:y((()=>[g(C,{data:h(b).formData,rules:h(b).formRules,items:h(b).formItems,"title-align":"right","title-width":"150"},{quarter:y((({data:e})=>[g(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t},null,8,["modelValue","onUpdate:modelValue"])])),structure:y((({data:e})=>[g(l,{modelValue:e.structure,"onUpdate:modelValue":t=>e.structure=t},null,8,["modelValue","onUpdate:modelValue"])])),retailCustomer:y((({data:e})=>[g(r,{modelValue:e.retailCustomer,"onUpdate:modelValue":t=>e.retailCustomer=t},null,8,["modelValue","onUpdate:modelValue"])])),form_buttons:y((()=>[g(V,{type:"submit",status:"primary"},{default:y((()=>[v("保存")])),_:1}),g(V,{onClick:t[8]||(t[8]=e=>h(b).showCreator=!1)},{default:y((()=>[v("取消")])),_:1})])),_:1},8,["data","rules","items"])])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-f5ed0169"],["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/views/retail-master-data/KACustomerRelView.vue"]]);export{S as default};
