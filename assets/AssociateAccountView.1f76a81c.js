var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,s=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{_ as r}from"./index.d7452ca2.js";import{_ as u}from"./index.36147ed9.js";import{_ as c}from"./index.dd62f48c.js";import{d as n,a9 as i,r as m,bj as p,aV as f,aW as V,ay as y,bR as h,a$ as _,az as g,aS as b,a as A,a_ as U,aX as w,cf as C}from"./index.44eff430.js";import{_ as v}from"./index.9ab52a84.js";import{_ as x}from"./index.69084706.js";import{i as q}from"./retail-master-data.service.de057498.js";import{g as j,a as k}from"./vxeTableHelper.6baae079.js";import"./master-data.service.95993c0c.js";const O=_(n({__name:"index",props:{modelValue:{type:null,required:!1},placeholder:{type:String,required:!1},multiple:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1}},emits:["update:modelValue","change"],setup(e,{emit:a}){const t=e,l=i({get:()=>t.modelValue,set:e=>{a("update:modelValue",e)}}),o=m([{value:"关联客户",label:"关联客户"},{value:"批零一体",label:"批零一体"}]);return(e,d)=>{const s=p("vxe-select");return f(),V(s,{transfer:"",options:y(o),placeholder:t.placeholder,multiple:t.multiple,modelValue:y(l),"onUpdate:modelValue":d[0]||(d[0]=e=>h(l)?l.value=e:null),disabled:t.disabled,clearable:"",onChange:d[1]||(d[1]=e=>a("change"))},null,8,["options","placeholder","multiple","modelValue","disabled"])}}}),[["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/components/demo-associate-account-type/index.vue"]]),T=_(n({__name:"AssociateAccountView",setup(e){const n=m(),i=g((h=((e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(l)for(var t of l(a))d.call(a,t)&&s(e,t,a[t]);return e})({},j("grid",q)),a(h,t({formConfig:{items:[{folding:!1,slots:{default:"search_quarter"}},{folding:!1,slots:{default:"search_account"}},{folding:!1,slots:{default:"search_accountCategory"}},{folding:!0,slots:{default:"search_associateAccount"}},{folding:!0,slots:{default:"search_status"}},{collapseNode:!0,itemRender:{},slots:{default:"search_operation"}}]},columns:[{field:"checkbox",type:"checkbox",width:50,align:"center",fixed:"left"},{field:"quarter",title:"季度",width:100},{field:"accountCode",title:"被关联客户编码",width:130},{field:"accountName",title:"被关联客户名称",width:300},{field:"accountCategory",title:"KA属性",width:100},{field:"accountAccessType",title:"客户取数类型",width:150},{field:"associateAccountCode",title:"关联客户编码",width:150},{field:"associateAccountName",title:"关联客户名称",width:300},{field:"status",title:"状态",width:100},{field:"createdBy",title:"创建人",width:100},{field:"createdOn",title:"创建时间",width:100},{field:"modifiedBy",title:"修改人",width:100},{field:"modifiedOn",title:"修改时间",width:100},{title:"操作",align:"center",width:180,fixed:"right",slots:{default:"operations"}}]}))));var h;const _=g({formData:{quarter:"2023Q1",category:"",account:"",accountAccessType:"",associateAccount:""},formRules:{quarter:[{required:!0}],type:[{required:!0}],account:[{required:!0}],category:[{required:!0}],associateAccount:[{required:!0}]},formItems:[{field:"quarter",title:"季度",span:22,slots:{default:"quarter"}},{field:"category",title:"KA属性",span:22,slots:{default:"category"}},{field:"account",title:"被关联客户",span:22,slots:{default:"account"},titlePrefix:{content:"数据源：当根据选择的季度+KA属性不存在任何分部时候，显示所有的经销商+药店，否则显示分部列表;\n          在数据源确定的基础上，再按输入的code或名称模糊查询"}},{field:"accountAccessType",title:"客户取数类型",span:22,slots:{default:"accountAccessType"}},{field:"associateAccount",title:"关联客户",titlePrefix:{content:"所有的商业，无需校验是否在客户名单中"},span:22,slots:{default:"associateAccount"}},{align:"center",span:24,itemRender:{},slots:{default:"form_buttons"}}],showCreator:!1,showFileUpload:!1});return(e,a)=>{const t=x,l=v,o=O,d=c,s=u,m=p("vxe-button"),h=p("vxe-grid"),g=r,q=p("vxe-select"),j=p("vxe-form"),T=p("vxe-modal"),P=p("page-container");return f(),V(P,null,{default:b((()=>[A(h,C({ref_key:"xGrid",ref:n},y(i)),{search_quarter:b((({data:e})=>[A(t,{modelValue:e.quarter,"onUpdate:modelValue":a=>e.quarter=a},null,8,["modelValue","onUpdate:modelValue"])])),search_account:b((({data:e})=>[A(l,{modelValue:e.account,"onUpdate:modelValue":a=>e.account=a,placeholder:"被关联客户"},null,8,["modelValue","onUpdate:modelValue"])])),search_type:b((({data:e})=>[A(o,{modelValue:e.type,"onUpdate:modelValue":a=>e.type=a,placeholder:"关联类型"},null,8,["modelValue","onUpdate:modelValue"])])),search_accountCategory:b((({data:e})=>[A(d,{modelValue:e.accountCategory,"onUpdate:modelValue":a=>e.accountCategory=a},null,8,["modelValue","onUpdate:modelValue"])])),search_associateAccount:b((({data:e})=>[A(l,{modelValue:e.associateAccount,"onUpdate:modelValue":a=>e.associateAccount=a,placeholder:"关联客户"},null,8,["modelValue","onUpdate:modelValue"])])),search_status:b((({data:e})=>[A(s,{modelValue:e.status,"onUpdate:modelValue":a=>e.status=a},null,8,["modelValue","onUpdate:modelValue"])])),search_operation:b((()=>[A(m,{status:"primary",type:"submit"},{default:b((()=>[U("搜索")])),_:1})])),toolbar_buttons:b((()=>[A(m,{status:"primary",onClick:a[0]||(a[0]=e=>y(_).showCreator=!0)},{default:b((()=>[U("新建")])),_:1}),A(m,{status:"primary",onClick:a[1]||(a[1]=e=>y(k)("数据团队用户\n        季度(Y)、KA属性(Y)、被关联客户编码(Y)、客户取数类型(N)、关联客户编码(Y)\n        季度+被关联客户存在一个或多个关联客户，\n        季度+关联客户编码唯一"))},{default:b((()=>[U(" 数据导入 ")])),_:1}),A(m,{status:"primary",onClick:a[2]||(a[2]=e=>y(k)("数据团队、零售KA团队、零售运营团队"))},{default:b((()=>[U(" 数据下载 ")])),_:1}),A(m,{status:"primary",content:"发布",onClick:a[3]||(a[3]=e=>y(k)("仅数据团队操作。有勾选按勾选，不勾选按查询条件；只有自己创建的草稿状态的数据才可以发布；后续所有类似按钮都同样逻辑"))}),A(m,{status:"danger",onClick:a[4]||(a[4]=e=>y(k)("只能删除自己创建的草稿状态数据，批量删除，勾选则删除勾选，不勾选按查询条件；所有发布、删除、生效、失效操作，都要有confirm提示框")),content:"删除"})])),operations:b((({row:e})=>[A(m,{title:"编辑",status:"primary",onClick:a[5]||(a[5]=e=>y(k)("仅可以编辑客户取数逻辑"))},{default:b((()=>[U(" 编辑 ")])),_:1}),"失效"===e.status?(f(),V(m,{key:0,status:"danger",onClick:a[6]||(a[6]=e=>y(k)("只有失效的才可以生效")),content:"生效"})):w("v-if",!0),"生效"===e.status?(f(),V(m,{key:1,status:"danger",onClick:a[7]||(a[7]=e=>y(k)("只有生效的才可以失效")),content:"失效"})):w("v-if",!0)])),_:1},16),A(T,{modelValue:y(_).showCreator,"onUpdate:modelValue":a[9]||(a[9]=e=>y(_).showCreator=e),title:"新建关联客户",resize:"","destroy-on-close":""},{default:b((()=>[A(j,{data:y(_).formData,rules:y(_).formRules,items:y(_).formItems,"title-align":"right","title-width":"150"},{quarter:b((({data:e})=>[A(t,{modelValue:e.quarter,"onUpdate:modelValue":a=>e.quarter=a},null,8,["modelValue","onUpdate:modelValue"])])),category:b((({data:e})=>[A(d,{modelValue:e.category,"onUpdate:modelValue":a=>e.category=a},null,8,["modelValue","onUpdate:modelValue"])])),type:b((({data:e})=>[A(o,{modelValue:e.type,"onUpdate:modelValue":a=>e.type=a},null,8,["modelValue","onUpdate:modelValue"])])),account:b((({data:e})=>[A(g,{modelValue:e.account,"onUpdate:modelValue":a=>e.account=a,placeholder:"被关联客户"},null,8,["modelValue","onUpdate:modelValue"])])),accountCategory:b((({data:e})=>[A(d,{modelValue:e.accountCategory,"onUpdate:modelValue":a=>e.accountCategory=a},null,8,["modelValue","onUpdate:modelValue"])])),accountAccessType:b((({data:e})=>[A(q,{transfer:"",options:[{value:"A",label:"A"},{value:"B",label:"B"}],placeholder:"客户取数类型",modelValue:e.accountAccessType,"onUpdate:modelValue":a=>e.accountAccessType=a,clearable:""},null,8,["modelValue","onUpdate:modelValue"])])),associateAccount:b((({data:e})=>[A(l,{modelValue:e.associateAccount,"onUpdate:modelValue":a=>e.associateAccount=a},null,8,["modelValue","onUpdate:modelValue"])])),form_buttons:b((()=>[A(m,{type:"submit",status:"primary"},{default:b((()=>[U("保存")])),_:1}),A(m,{onClick:a[8]||(a[8]=e=>y(_).showCreator=!1)},{default:b((()=>[U("取消")])),_:1})])),_:1},8,["data","rules","items"])])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-a6c77ef9"],["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/views/retail-master-data/AssociateAccountView.vue"]]);export{T as default};
