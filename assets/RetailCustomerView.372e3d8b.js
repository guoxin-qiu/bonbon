var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,d=(t,a,r)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;import{_ as s}from"./index.36147ed9.js";import{_ as i}from"./index.9fcc5db4.js";import{_ as u}from"./index.dd62f48c.js";import{_ as n}from"./index.9ab52a84.js";import{_ as m}from"./index.69084706.js";import{d as c,r as f,az as p,bj as h,aV as V,aW as y,aS as g,a as _,ay as C,aX as q,cf as w,a_ as b,a$ as x}from"./index.44eff430.js";import{d as U}from"./retail-master-data.service.de057498.js";import{g as v,a as j}from"./vxeTableHelper.6baae079.js";import"./master-data.service.95993c0c.js";const k=x(c({__name:"RetailCustomerView",setup(e){const c=f(),x=p((k=((e,t)=>{for(var a in t||(t={}))o.call(t,a)&&d(e,a,t[a]);if(r)for(var a of r(t))l.call(t,a)&&d(e,a,t[a]);return e})({},v("grid",U)),t(k,a({formConfig:{items:[{folding:!1,slots:{default:"search_quarter"}},{folding:!1,slots:{default:"search_customer"},titlePrefix:{content:"分销商+药店"}},{folding:!1,slots:{default:"search_customerCategory"},titlePrefix:{content:"分部的KA属性"}},{folding:!1,slots:{default:"search_headquarter"}},{folding:!0,slots:{default:"search_status"}},{collapseNode:!0,itemRender:{},slots:{default:"search_operation"}}]},columns:[{field:"checkbox",type:"checkbox",width:50,align:"center",fixed:"left"},{field:"quarter",title:"季度",width:100},{field:"customerCode",title:"分部编码",width:100},{field:"customerName",title:"分部名称",width:300},{field:"headquarterCode",title:"总部编码",width:100},{field:"headquarterName",title:"总部名称",width:300},{field:"headquarterCategory",title:"KA属性",width:100,titlePrefix:{content:"分部自己的KA属性"}},{field:"mainDataStatus",title:"主数据状态",width:140,titlePrefix:{content:"所选择的分部（从主数据来）的状态"}},{field:"status",title:"发布状态",width:100},{field:"createdBy",title:"创建人",width:100},{field:"createdOn",title:"创建时间",width:100},{field:"modifiedBy",title:"修改人",width:100},{field:"modifiedOn",title:"修改时间",width:100},{title:"操作",align:"center",width:180,fixed:"right",slots:{default:"operations"}}]}))));var k;const P=p({formData:{customerCode:"",quarter:"2023Q1",headquarterCode:"",category:""},formRules:{customerCode:[{required:!0}],quarter:[{required:!0}],headquarterCode:[{required:!0}],category:[{required:!0}]},formItems:[{field:"quarter",title:"季度",span:22,slots:{default:"quarter"}},{field:"customerCode",title:"分部",titlePrefix:{content:"在主数据中必须是有效的医院和药店"},span:22,slots:{default:"customer"}},{field:"category",title:"KA属性",span:22,slots:{default:"category"},titlePrefix:{content:"手动选择，不需要跟总部的属性做匹配比较，也不需要联动"}},{field:"headquarterCode",title:"总部",span:22,slots:{default:"headquarter"},titlePrefix:{content:" 同一Q，主数据有效，草稿或生效"}},{align:"center",span:24,itemRender:{},slots:{default:"form_buttons"}}],showCreator:!1,showFileUpload:!1});return(e,t)=>{const a=m,r=n,o=u,l=i,d=s,f=h("vxe-button"),p=h("vxe-grid"),U=h("vxe-form"),v=h("vxe-modal"),k=h("page-container");return V(),y(k,null,{default:g((()=>[_(p,w({ref_key:"xGrid",ref:c},C(x)),{search_quarter:g((({data:e})=>[_(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t},null,8,["modelValue","onUpdate:modelValue"])])),search_customer:g((({data:e})=>[_(r,{modelValue:e.customer,"onUpdate:modelValue":t=>e.customer=t,placeholder:"分部客户"},null,8,["modelValue","onUpdate:modelValue"])])),search_customerCategory:g((({data:e})=>[_(o,{modelValue:e.customerCategory,"onUpdate:modelValue":t=>e.customerCategory=t,placeholder:"分部KA属性"},null,8,["modelValue","onUpdate:modelValue"])])),search_headquarter:g((({data:e})=>[_(l,{modelValue:e.headquarter,"onUpdate:modelValue":t=>e.headquarter=t},null,8,["modelValue","onUpdate:modelValue"])])),search_status:g((({data:e})=>[_(d,{modelValue:e.status,"onUpdate:modelValue":t=>e.status=t,type:"发布状态"},null,8,["modelValue","onUpdate:modelValue"])])),search_operation:g((()=>[_(f,{status:"primary",type:"submit",content:"搜索",onClick:t[0]||(t[0]=e=>C(j)("总部的下拉根据季度联动出"))})])),toolbar_buttons:g((()=>[_(f,{status:"primary",content:"新建",onClick:t[1]||(t[1]=e=>C(P).showCreator=!0)}),_(f,{status:"primary",content:"数据导入",onClick:t[2]||(t[2]=e=>C(j)("数据团队用户\n            季度(Y)、分部编码(Y)、分部属性、总部编码(Y)\n        季度+分部编码唯一，客户编码在主数据中是有效状态；总部编码在主数据是有效状态且在总部客户名单中（草稿/生效）"))}),_(f,{status:"primary",content:"数据下载",onClick:t[3]||(t[3]=e=>C(j)("数据团队、零售KA团队、零售运营团队"))}),_(f,{status:"primary",content:"发布",onClick:t[4]||(t[4]=e=>C(j)("仅数据团队操作。有勾选按勾选，不勾选按查询条件；只有自己创建的草稿状态的数据才可以发布；后续所有类似按钮都同样逻辑"))}),_(f,{status:"danger",onClick:t[5]||(t[5]=e=>C(j)("只能删除自己创建的草稿状态数据，批量删除，勾选则删除勾选，不勾选按查询条件；所有发布、删除、生效、失效操作，都要有confirm提示框")),content:"删除"})])),operations:g((({row:e})=>[_(f,{status:"primary",onClick:t[6]||(t[6]=e=>C(j)("仅能编辑分部属性和总部，任何状态都可以编辑")),content:"编辑"}),"失效"===e.status?(V(),y(f,{key:0,status:"danger",onClick:t[7]||(t[7]=e=>C(j)("只有失效的才可以生效")),content:"生效"})):q("v-if",!0),"生效"===e.status?(V(),y(f,{key:1,status:"danger",onClick:t[8]||(t[8]=e=>C(j)("只有生效的才可以失效")),content:"失效"})):q("v-if",!0)])),_:1},16),_(v,{modelValue:C(P).showCreator,"onUpdate:modelValue":t[10]||(t[10]=e=>C(P).showCreator=e),title:"新建分部客户",resize:"","destroy-on-close":""},{default:g((()=>[_(U,{data:C(P).formData,rules:C(P).formRules,items:C(P).formItems,"title-align":"right","title-width":"150"},{quarter:g((({data:e})=>[_(a,{modelValue:e.quarter,"onUpdate:modelValue":t=>e.quarter=t},null,8,["modelValue","onUpdate:modelValue"])])),customer:g((({data:e})=>[_(r,{modelValue:e.customer,"onUpdate:modelValue":t=>e.customer=t},null,8,["modelValue","onUpdate:modelValue"])])),headquarter:g((({data:e})=>[_(l,{modelValue:e.headquarter,"onUpdate:modelValue":t=>e.headquarter=t},null,8,["modelValue","onUpdate:modelValue"])])),category:g((({data:e})=>[_(o,{modelValue:e.category,"onUpdate:modelValue":t=>e.category=t},null,8,["modelValue","onUpdate:modelValue"])])),form_buttons:g((()=>[_(f,{type:"submit",status:"primary"},{default:g((()=>[b("保存")])),_:1}),_(f,{onClick:t[9]||(t[9]=e=>C(P).showCreator=!1)},{default:g((()=>[b("取消")])),_:1})])),_:1},8,["data","rules","items"])])),_:1},8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-c363ada6"],["__file","C:/Users/ThinkPad/source/Bonbonniere/bonbon-vue/src/views/retail-master-data/RetailCustomerView.vue"]]);export{k as default};
