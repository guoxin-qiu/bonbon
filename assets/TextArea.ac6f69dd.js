import{P as e,h as t,aK as a,c as n,_ as o,am as l,d as r,t as i,r as u,b as d,a as c,k as s,u as v,ae as f,b0 as p,al as g,f as x,V as b,W as m,ac as h,ao as y,b1 as w,b2 as z,aG as C,b3 as A,a9 as S,ak as B}from"./index.44eff430.js";import{a as F,b as T}from"./FormItemContext.57e95490.js";var E=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:e.oneOfType([e.string,e.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:e.any,addonAfter:e.any,prefix:e.any,suffix:e.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const M=E;var P=function(){return t(t({},a(E(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function R(e,t,a,l,r){var i;return n(e,(o(i={},"".concat(e,"-sm"),"small"===a),o(i,"".concat(e,"-lg"),"large"===a),o(i,"".concat(e,"-disabled"),l),o(i,"".concat(e,"-rtl"),"rtl"===r),o(i,"".concat(e,"-borderless"),!t),i))}var j=function(e){return null!=e&&(!Array.isArray(e)||l(e).length)};function V(e){return j(e.addonBefore)||j(e.addonAfter)}var O=["text","input"];const k=r({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:e.oneOf(i("text","input")),value:e.any,defaultValue:e.any,allowClear:{type:Boolean,default:void 0},element:e.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:e.any,prefix:e.any,addonBefore:e.any,addonAfter:e.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,t){var a=t.slots,l=t.attrs,r=u(),i=function(t){var a;if(null!==(a=r.value)&&void 0!==a&&a.contains(t.target)){var n=e.triggerFocus;null==n||n()}},v=function(t){var l,r=e.allowClear,i=e.value,u=e.disabled,d=e.readonly,v=e.handleReset,f=e.suffix,p=void 0===f?a.suffix:f;if(!r)return null;var g=!u&&!d&&i,x="".concat(t,"-clear-icon");return c(s,{onClick:v,onMousedown:function(e){return e.preventDefault()},class:n((l={},o(l,"".concat(x,"-hidden"),!g),o(l,"".concat(x,"-has-suffix"),!!p),l),x),role:"button"},null)},f=function(t,u){var s,f,p,g,x=e.focused,b=e.value,m=e.prefix,h=void 0===m?null===(s=a.prefix)||void 0===s?void 0:s.call(a):m,y=e.size,w=e.suffix,z=void 0===w?null===(f=a.suffix)||void 0===f?void 0:f.call(a):w,C=e.disabled,A=e.allowClear,S=e.direction,B=e.readonly,F=e.bordered,T=e.hidden,E=e.addonAfter,M=void 0===E?a.addonAfter:E,P=e.addonBefore,O=void 0===P?a.addonBefore:P,k=function(t){var n,o=e.suffix,l=void 0===o?null===(n=a.suffix)||void 0===n?void 0:n.call(a):o,r=e.allowClear;return l||r?c("span",{class:"".concat(t,"-suffix")},[v(t),l]):null}(t);if(!(j((g={prefix:h,suffix:z,allowClear:A}).prefix)||j(g.suffix)||j(g.allowClear)))return d(u,{value:b});var I=h?c("span",{class:"".concat(t,"-prefix")},[h]):null,N=n("".concat(t,"-affix-wrapper"),(o(p={},"".concat(t,"-affix-wrapper-focused"),x),o(p,"".concat(t,"-affix-wrapper-disabled"),C),o(p,"".concat(t,"-affix-wrapper-sm"),"small"===y),o(p,"".concat(t,"-affix-wrapper-lg"),"large"===y),o(p,"".concat(t,"-affix-wrapper-input-with-clear-btn"),z&&A&&b),o(p,"".concat(t,"-affix-wrapper-rtl"),"rtl"===S),o(p,"".concat(t,"-affix-wrapper-readonly"),B),o(p,"".concat(t,"-affix-wrapper-borderless"),!F),o(p,"".concat(l.class),!V({addonAfter:M,addonBefore:O})&&l.class),p));return c("span",{ref:r,class:N,style:l.style,onMouseup:i,hidden:T},[I,d(u,{style:null,value:b,class:R(t,F,y,C)}),k])};return function(){var t,r=e.prefixCls,i=e.inputType,u=e.element,s=void 0===u?null===(t=a.element)||void 0===t?void 0:t.call(a):u;return i===O[0]?function(t,r){var i,u=e.value,s=e.allowClear,f=e.direction,p=e.bordered,g=e.hidden,x=e.addonAfter,b=void 0===x?a.addonAfter:x,m=e.addonBefore,h=void 0===m?a.addonBefore:m;if(!s)return d(r,{value:u});var y=n("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),(o(i={},"".concat(t,"-affix-wrapper-rtl"),"rtl"===f),o(i,"".concat(t,"-affix-wrapper-borderless"),!p),o(i,"".concat(l.class),!V({addonAfter:b,addonBefore:h})&&l.class),i));return c("span",{class:y,style:l.style,hidden:g},[d(r,{style:null,value:u}),v(t)])}(r,s):function(t,r){var i,u,s,v=e.addonBefore,f=void 0===v?null===(i=a.addonBefore)||void 0===i?void 0:i.call(a):v,p=e.addonAfter,g=void 0===p?null===(u=a.addonAfter)||void 0===u?void 0:u.call(a):p,x=e.size,b=e.direction,m=e.hidden;if(!V({addonBefore:f,addonAfter:g}))return r;var h="".concat(t,"-group"),y="".concat(h,"-addon"),w=f?c("span",{class:y},[f]):null,z=g?c("span",{class:y},[g]):null,C=n("".concat(t,"-wrapper"),h,o({},"".concat(h,"-rtl"),"rtl"===b)),A=n("".concat(t,"-group-wrapper"),(o(s={},"".concat(t,"-group-wrapper-sm"),"small"===x),o(s,"".concat(t,"-group-wrapper-lg"),"large"===x),o(s,"".concat(t,"-group-wrapper-rtl"),"rtl"===b),s),l.class);return c("span",{class:A,style:l.style,hidden:m},[c("span",{class:C},[w,d(r,{style:null}),z])])}(r,f(r,s))}}});function I(e){return null==e?"":String(e)}function N(e,t,a,n){if(a){var o=t;if("click"===t.type){Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0});var l=e.cloneNode(!0);return o.target=l,o.currentTarget=l,l.value="",void a(o)}if(void 0!==n)return Object.defineProperty(o,"target",{writable:!0}),Object.defineProperty(o,"currentTarget",{writable:!0}),o.target=e,o.currentTarget=e,e.value=n,void a(o);a(o)}}function D(e,t){if(e){e.focus(t);var a=(t||{}).cursor;if(a){var n=e.value.length;switch(a){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(n,n);break;default:e.setSelectionRange(0,n)}}}}const K=r({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:M(),setup:function(e,l){var r,i=l.slots,d=l.attrs,s=l.expose,z=l.emit,C=u(),A=u(),S=F(),B=v("input",e),E=B.direction,M=B.prefixCls,P=B.size,j=B.autocomplete,V=u(void 0===e.value?e.defaultValue:e.value),O=u(!1);f((function(){return e.value}),(function(){V.value=e.value})),f((function(){return e.disabled}),(function(){void 0!==e.value&&(V.value=e.value),e.disabled&&(O.value=!1)}));var K=function(){r=setTimeout((function(){var e;"password"===(null===(e=C.value)||void 0===e?void 0:e.getAttribute("type"))&&C.value.hasAttribute("value")&&C.value.removeAttribute("value")}))},_=function(e){D(C.value,e)};s({focus:_,blur:function(){var e;null===(e=C.value)||void 0===e||e.blur()},input:C,stateValue:V,setSelectionRange:function(e,t,a){var n;null===(n=C.value)||void 0===n||n.setSelectionRange(e,t,a)},select:function(){var e;null===(e=C.value)||void 0===e||e.select()}});var H=function(t){var a=e.onFocus;O.value=!0,null==a||a(t),y((function(){K()}))},G=function(t){var a=e.onBlur;O.value=!1,null==a||a(t),S.onFieldBlur(),y((function(){K()}))},X=function(e){z("update:value",e.target.value),z("change",e),z("input",e),S.onFieldChange()},Y=w(),L=function(t,a){V.value!==t&&(void 0===e.value?V.value=t:y((function(){C.value.value!==V.value&&Y.update()})),y((function(){a&&a()})))},U=function(e){N(C.value,e,X),L("",(function(){_()}))},W=function(t){var a=t.target,n=a.value,o=a.composing;if(!((t.isComposing||o)&&e.lazy||V.value===n)){var l=t.target.value;N(C.value,t,X),L(l,(function(){K()}))}},q=function(e){13===e.keyCode&&z("pressEnter",e),z("keydown",e)};p((function(){K()})),g((function(){clearTimeout(r)}));var J=function(){var l,r=e.addonBefore,u=void 0===r?i.addonBefore:r,s=e.addonAfter,v=void 0===s?i.addonAfter:s,f=e.disabled,p=e.bordered,g=void 0===p||p,b=e.valueModifiers,m=void 0===b?{}:b,h=e.htmlSize,y=a(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),w=t(t(t({},y),d),{},{autocomplete:j.value,onChange:W,onInput:W,onFocus:H,onBlur:G,onKeydown:q,class:n(R(M.value,g,P.value,f,E.value),o({},d.class,d.class&&!u&&!v)),ref:C,key:"ant-input",size:h,id:null!==(l=y.id)&&void 0!==l?l:S.id.value});m.lazy&&delete w.onInput,w.autofocus||delete w.autofocus;var z=c("input",a(w,["size"]),null);return x(z,[[T]])},Q=function(){var t,a=V.value,l=e.maxlength,r=e.suffix,u=void 0===r?null===(t=i.suffix)||void 0===t?void 0:t.call(i):r,d=e.showCount,s=Number(l)>0;if(u||d){var v=b(I(a)).length,f=null;return f="object"===m(d)?d.formatter({count:v,maxlength:l}):"".concat(v).concat(s?" / ".concat(l):""),c(h,null,[!!d&&c("span",{class:n("".concat(M.value,"-show-count-suffix"),o({},"".concat(M.value,"-show-count-has-suffix"),!!u))},[f]),u])}return null};return function(){var n=t(t(t({},d),e),{},{prefixCls:M.value,inputType:"input",value:I(V.value),handleReset:U,focused:O.value&&!e.disabled});return c(k,t(t({},a(n,["element","valueModifiers","suffix","showCount"])),{},{ref:A}),t(t({},i),{},{element:J,suffix:Q}))}}});var _,H="\n min-height:0 !important;\n max-height:none !important;\n height:0 !important;\n visibility:hidden !important;\n overflow:hidden !important;\n position:absolute !important;\n z-index:-1000 !important;\n top:0 !important;\n right:0 !important\n",G=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],X={};function Y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&X[a])return X[a];var n=window.getComputedStyle(e),o=n.getPropertyValue("box-sizing")||n.getPropertyValue("-moz-box-sizing")||n.getPropertyValue("-webkit-box-sizing"),l=parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("padding-top")),r=parseFloat(n.getPropertyValue("border-bottom-width"))+parseFloat(n.getPropertyValue("border-top-width")),i=G.map((function(e){return"".concat(e,":").concat(n.getPropertyValue(e))})).join(";"),u={sizingStyle:i,paddingSize:l,borderSize:r,boxSizing:o};return t&&a&&(X[a]=u),u}const L=r({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:P(),setup:function(e,l){var r,i,d=l.attrs,s=l.emit,v=l.expose,b=u(),m=u({}),h=u(0);g((function(){z.cancel(r),z.cancel(i)}));var S=function(){var t=e.autoSize||e.autosize;if(t&&b.value){var a=t.minRows,n=t.maxRows;m.value=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_||((_=document.createElement("textarea")).setAttribute("tab-index","-1"),_.setAttribute("aria-hidden","true"),document.body.appendChild(_)),e.getAttribute("wrap")?_.setAttribute("wrap",e.getAttribute("wrap")):_.removeAttribute("wrap");var o=Y(e,t),l=o.paddingSize,r=o.borderSize,i=o.boxSizing,u=o.sizingStyle;_.setAttribute("style","".concat(u,";").concat(H)),_.value=e.value||e.placeholder||"";var d,c=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,v=_.scrollHeight;if("border-box"===i?v+=r:"content-box"===i&&(v-=l),null!==a||null!==n){_.value=" ";var f=_.scrollHeight-l;null!==a&&(c=f*a,"border-box"===i&&(c=c+l+r),v=Math.max(c,v)),null!==n&&(s=f*n,"border-box"===i&&(s=s+l+r),d=v>s?"":"hidden",v=Math.min(s,v))}return{height:"".concat(v,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(s,"px"),overflowY:d,resize:"none"}}(b.value,!1,a,n),h.value=1,z.cancel(i),i=z((function(){h.value=2,i=z((function(){h.value=0,function(){try{if(document.activeElement===b.value){var e=b.value.selectionStart,t=b.value.selectionEnd;b.value.setSelectionRange(e,t)}}catch(a){}}()}))}))}},B=function(t){0===h.value&&(s("resize",t),(e.autoSize||e.autosize)&&(z.cancel(r),r=z(S)))};C(void 0===e.autosize,"Input.TextArea","autosize is deprecated, please use autoSize instead.");f((function(){return e.value}),(function(){y((function(){S()}))})),p((function(){y((function(){S()}))}));var F=w();return v({resizeTextarea:S,textArea:b,instance:F}),function(){return l=e.prefixCls,r=e.autoSize,i=e.autosize,u=e.disabled,s=a(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),v=n(l,d.class,o({},"".concat(l,"-disabled"),u)),f=[d.style,m.value,1===h.value?{overflowX:"hidden",overflowY:"hidden"}:null],(p=t(t(t({},s),d),{},{style:f,class:v})).autofocus||delete p.autofocus,0===p.rows&&delete p.rows,c(A,{onResize:B,disabled:!(r||i)},{default:function(){return[x(c("textarea",t(t({},p),{},{ref:b}),null),[[T]])]}});var l,r,i,u,s,v,f,p}}});function U(e,t){return b(e||"").slice(0,t).join("")}function W(e,t,a,n){var o=a;return e?o=U(a,n):b(t||"").length<a.length&&b(a||"").length>n&&(o=t),o}const q=r({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:P(),setup:function(e,l){var r=l.attrs,i=l.expose,d=l.emit,s=F(),p=u(void 0===e.value?e.defaultValue:e.value),g=u(),x=u(""),h=v("input",e),z=h.prefixCls,C=h.size,A=h.direction,T=S((function(){return""===e.showCount||e.showCount||!1})),E=S((function(){return Number(e.maxlength)>0})),M=u(!1),P=u(),R=u(0),j=function(e){M.value=!0,P.value=x.value,R.value=e.currentTarget.selectionStart,d("compositionstart",e)},V=function(t){M.value=!1;var a,n=t.currentTarget.value;E.value&&(n=W(R.value>=e.maxlength+1||R.value===(null===(a=P.value)||void 0===a?void 0:a.length),P.value,n,e.maxlength));n!==x.value&&(_(n),N(t.currentTarget,t,X,n)),d("compositionend",t)},O=w();f((function(){return e.value}),(function(){var t;O.vnode.props,p.value=null!==(t=e.value)&&void 0!==t?t:""}));var K=function(e){var t;D(null===(t=g.value)||void 0===t?void 0:t.textArea,e)},_=function(t,a){p.value!==t&&(void 0===e.value?p.value=t:y((function(){var e,t,a;g.value.textArea.value!==x.value&&(null===(e=g.value)||void 0===e||null===(t=(a=e.instance).update)||void 0===t||t.call(a))})),y((function(){a&&a()})))},H=function(e){13===e.keyCode&&d("pressEnter",e),d("keydown",e)},G=function(t){var a=e.onBlur;null==a||a(t),s.onFieldBlur()},X=function(e){d("update:value",e.target.value),d("change",e),d("input",e),s.onFieldChange()},Y=function(e){N(g.value.textArea,e,X),_("",(function(){K()}))},q=function(t){var a=t.target.composing,n=t.target.value;if(M.value=!(!t.isComposing&&!a),!(M.value&&e.lazy||p.value===n)){if(E.value){var o=t.target;n=W(o.selectionStart>=e.maxlength+1||o.selectionStart===n.length||!o.selectionStart,x.value,n,e.maxlength)}N(t.currentTarget,t,X,n),_(n)}},J=function(){var n,l,i,u=r.style,d=r.class,v=e.bordered,f=void 0===v||v,p=t(t(t({},a(e,["allowClear"])),r),{},{style:T.value?{}:u,class:(n={},o(n,"".concat(z.value,"-borderless"),!f),o(n,"".concat(d),d&&!T.value),o(n,"".concat(z.value,"-sm"),"small"===C.value),o(n,"".concat(z.value,"-lg"),"large"===C.value),n),showCount:null,prefixCls:z.value,onInput:q,onChange:q,onBlur:G,onKeydown:H,onCompositionstart:j,onCompositionend:V});return null!==(l=e.valueModifiers)&&void 0!==l&&l.lazy&&delete p.onInput,c(L,t(t({},p),{},{id:null!==(i=p.id)&&void 0!==i?i:s.id.value,ref:g,maxlength:e.maxlength}),null)};return i({focus:K,blur:function(){var e,t;null===(e=g.value)||void 0===e||null===(t=e.textArea)||void 0===t||t.blur()},resizableTextArea:g}),B((function(){var t=I(p.value);M.value||!E.value||null!==e.value&&void 0!==e.value||(t=U(t,e.maxlength)),x.value=t})),function(){var a=e.maxlength,l=e.bordered,i=void 0===l||l,u=e.hidden,d=r.style,s=r.class,v=t(t(t({},e),r),{},{prefixCls:z.value,inputType:"text",handleReset:Y,direction:A.value,bordered:i,style:T.value?void 0:d}),f=c(k,t(t({},v),{},{value:x.value}),{element:J});if(T.value){var p=b(x.value).length,g="";g="object"===m(T.value)?T.value.formatter({count:p,maxlength:a}):"".concat(p).concat(E.value?" / ".concat(a):""),f=c("div",{hidden:u,class:n("".concat(z.value,"-textarea"),o({},"".concat(z.value,"-textarea-rtl"),"rtl"===A.value),"".concat(z.value,"-textarea-show-count"),s),style:d,"data-count":"object"!==m(g)?g:void 0},[f])}return f}}});export{K as I,q as T,M as i};
